<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<title>2p Terminplaner</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" href="js/perfect-scrollbar/css/perfect-scrollbar.css">
		<link rel="stylesheet" href="./css/main.css">
		<style>
			[draggable] {
			  -moz-user-select: none;
			  -khtml-user-select: none;
			  -webkit-user-select: none;
			  user-select: none;
			  -khtml-user-drag: element;
			  -webkit-user-drag: element;
			},
			.over {
			  border: 2px dashed #000;
			}
		</style>
	</head>
		
	<body>

		<div id="terminplaner">
			<div class="header">
				<h2>Terminplaner</h2>
				<div class="control">
					<span class="prev">&lt;</span>
					<span class="date">6 &mdash; 12. Juli 2015</span>
					<span class="next">&gt;</span>
				</div>
				<span class="month"></span>
				<span class="slider"></span>
			</div>
			<div class="table">
				<div class="events">
					<div class="day" data-day="1">
						<a href=""><div class="event q4 past" draggable="true" style="top: 0px;">
							<p class="hours">08:00 - 09:00</p>
							<p class="description">Meier</p>
							<span class="icon"></span>
						</div></a>
					</div>
					<div class="day" data-day="2">

					</div>
					<div class="day" data-day="3">

					</div>
					<div class="day" data-day="4">

					</div>
					<div class="day" data-day="5">

					</div>
					<div class="day"  data-day="6"></div>
					<div class="day" data-day="7"></div>
				</div>
				<table>
					<thead>
						<tr>
							<td>Uhrzeit</td>
							<td>Mo 06.07.</td>
							<td>Di 07.07.</td>
							<td class="active">Mi 08.07.</td>
							<td>Do 09.07.</td>
							<td>Fr 10.07.</td>
							<td class="free" >Sa 11.07.</td>
							<td class="free" >So 12.07.</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="hour">08:00</td>
							<td ></td>
							<td ></td>
							<td class="active"></td>
							<td ></td>
							<td ></td>
							<td ></td>
							<td ></td>
						</tr>
						<tr>
							<td class="hour">09:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">10:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">11:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">12:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td ></td>
							<td ></td>
							<td ></td>
						</tr>
						<tr>
							<td class="hour">13:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td ></td>
							<td ></td>
							<td ></td>
							<td ></td>
						</tr>
						<tr>
							<td class="hour">14:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">15:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">16:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">17:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">18:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">19:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td class="hour">20:00</td>
							<td></td>
							<td></td>
							<td class="active"></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<script src="js/jquery.min.js"></script>
        <script src="js/perfect-scrollbar/js/perfect-scrollbar.jquery.js"></script>
		<script src="js/main.js"></script>
		<script>
				var cells = document.querySelectorAll(' div');

				function handleDragStart(e) {
				  this.style.opacity = '0.4';  // this / e.target is the source node.
				}

				function handleDragOver(e) {
				  if (e.preventDefault) {
				    e.preventDefault(); // Necessary. Allows us to drop.
				  }

				  e.dataTransfer.dropEffect = 'move';  // See the section on the DataTransfer object.

				  return false;
				}

				function handleDragEnter(e) {
				  // this / e.target is the current hover target.
				  this.classList.add('over');
				}

				function handleDragLeave(e) {
				  this.classList.remove('over');  // this / e.target is previous target element.
				}
				function handleDrop(e) {
				  // this / e.target is current target element.

				  if (e.stopPropagation) {
				    e.stopPropagation(); // stops the browser from redirecting.
				  }

				  // See the section on the DataTransfer object.

				  return false;
				}

				function handleDragEnd(e) {
				  // this/e.target is the source node.

				  [].forEach.call(cells, function (cell) {
				    cell.classList.remove('over');
				  });
				}


				
				[].forEach.call(cells, function(cell) {
					cell.addEventListener('dragstart', handleDragStart, false);
					cell.addEventListener('dragenter', handleDragEnter, false);
					cell.addEventListener('dragover', handleDragOver, false);
					cell.addEventListener('dragleave', handleDragLeave, false);
					cell.addEventListener('drop', handleDrop, false);
	  				cell.addEventListener('dragend', handleDragEnd, false);
				});
				console.log(cells);

		</script>
	</body>
</html>
